<!DOCTYPE html>
<html lang="en">

<!--

You've found it
  (•_•)

MR.
  ( •_•)>⌐■-■

Hackerman
  (⌐■_■)

    _   _   _   _   _   _   _   _   _
   / \ / \ / \ / \ / \ / \ / \ / \ / \
  ( C | t | r | l | A | l | t | C | o )
   \_/ \_/ \_/ \_/ \_/ \_/ \_/ \_/ \_/
   ( r | p | . | d | e | v | )
    \_/ \_/ \_/ \_/ \_/ \_/

-->

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Animated favicon for supported browsers (e.g., Chrome, Firefox) -->
  <link rel="icon" href="{{ "/assets/img/favicon.ico" | relative_url }}" type="image/x-icon">

  {% seo %}

  <link rel="stylesheet" href="{{ "/assets/css/style.css" | relative_url }}">

  <!-- Asynchronously load Google Fonts to prevent render-blocking -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Fira+Code:wght@400;700&family=Inter:wght@400;700&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Fira+Code:wght@400;700&family=Inter:wght@400;700&display=swap" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Fira+Code:wght@400;700&family=Inter:wght@400;700&display=swap"></noscript>
</head>

<body>
  <header>
    <div class="nav-center">
      <nav class="cyberpunk-nav">
        {% for item in site.nav %}
        <a href="{{ item.url | relative_url }}" class="cyberpunk-link">{{ item.title }}</a>
        {% endfor %}
      </nav>
    </div>
    <div class="marquee-container">
      <p id="tagline" class="tagline-content"></p>
    </div>
  </header>

  <main>
    {{ content }}
  </main>

  <footer>
    <a href="#" id="toggle-handles" class="footer-link" title="I need a handle man...<br>I mean, I don't have an identity until I have a handle">Echo Terminal 23</a>
    <div id="handle-list" class="handle-list">
      <a href="https://github.com/StephenBarker" class="footer-link" target="_blank" rel="noopener noreferrer">[GitHub]</a>
      <a href="https://www.linkedin.com/in/the-real-stephen-barker/" class="footer-link" target="_blank" rel="noopener noreferrer">[LinkedIn]</a>
      <a href="https://x.com/CtrlAltCorp_dev" class="footer-link" target="_blank" rel="noopener noreferrer">[X/Twitter]</a>
      <a href="https://github.com/StephenBarkerClay" class="footer-link" target="_blank" rel="noopener noreferrer">[Corp GitHub]</a>
    </div>
    <a href="{{ "/feed.xml" | relative_url }}" class="footer-link" target="_blank" rel="noopener noreferrer">[RSS Feed - Updates Weekly]</a>
    <a href="#" id="toggle-cursor-effect" class="footer-link"></a>
  </footer>

  <script>
    fetch('https://corporatebs-generator.sameerkumar.website/')
      .then(response => response.json())
      .then(data => {
        document.getElementById('tagline').innerText =
          `Press Ctrl+Alt on the system to install: ${data.phrase}`;
      })
      .catch(() => {
        document.getElementById('tagline').innerText =
          'Press Ctrl+Alt on the system to install: [API unavailable]';
      });

    // --- Handle/Social Links Toggle Logic ---
    const handleToggle = document.getElementById('toggle-handles');
    const handleList = document.getElementById('handle-list');

    handleToggle.addEventListener('click', (e) => {
      e.preventDefault();
      const isVisible = handleList.classList.toggle('visible');
      if (isVisible) {
        handleToggle.textContent = '[Close Comms]';
      } else {
        handleToggle.textContent = 'Echo Terminal 23';
      }
    });

    // --- Cursor Effect Toggle Logic ---
    function getCookie(name) {
      const value = `; ${document.cookie}`;
      const parts = value.split(`; ${name}=`);
      if (parts.length === 2) return parts.pop().split(';').shift();
    }

    const cursorToggle = document.getElementById('toggle-cursor-effect');
    const isCursorDisabled = getCookie('cursorEffectDisabled') === 'true';

    if (window.matchMedia('(pointer: fine)').matches) { // Only run on devices with a mouse
      if (isCursorDisabled) {
        cursorToggle.textContent = '[Enable Cursor Effect]';
      } else {
        document.body.classList.add('cursor-effect-active');
        cursorToggle.textContent = '[Disable Cursor Effect]';
        
        const script = document.createElement('script');
        script.src = '{{ "/assets/js/rainbow-cursor.js" | relative_url }}';
        document.body.appendChild(script);
      }

      cursorToggle.addEventListener('click', (e) => {
        e.preventDefault();
        if (isCursorDisabled) {
          document.cookie = 'cursorEffectDisabled=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT';
        } else {
          document.cookie = 'cursorEffectDisabled=true; path=/; max-age=31536000'; // 1 year
        }
        location.reload();
      });
    } else {
      cursorToggle.style.display = 'none'; // Hide toggle on touch devices
    }
  </script>
  <!-- Custom tooltip script to override default title behavior -->
  <script src="{{ "/assets/js/custom-tooltip.js" | relative_url }}"></script>

  {% if jekyll.environment == 'production' %}
  <!-- Analytics Snippet privacy-focused provider -->

  {% endif %}

</body>

</html>
